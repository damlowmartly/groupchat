<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <title>ğŸ  Mystery House Game</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- ============================================ -->
  <!-- LOGIN SCREEN -->
  <!-- ============================================ -->
  <div id="login-screen">
    <div class="login-container">
      <h1>ğŸ  Mystery House</h1>
      <p>Choose your avatar and join the game!</p>
      
      <form id="login-form">
        <div class="form-group">
          <label>Your Name</label>
          <input type="text" id="player-name" placeholder="Enter your name" required>
        </div>
        
        <div class="form-group">
          <label>Choose Avatar</label>
          <div class="avatar-grid">
            <label class="avatar-option">
              <input type="radio" name="avatar" value="ğŸ‘®" required>
              <span class="avatar-emoji">ğŸ‘®</span>
              <span class="avatar-label">Detective</span>
            </label>
            <label class="avatar-option">
              <input type="radio" name="avatar" value="ğŸ•µï¸â€â™‚ï¸">
              <span class="avatar-emoji">ğŸ•µï¸â€â™‚ï¸</span>
              <span class="avatar-label">Informant</span>
            </label>
            <label class="avatar-option">
              <input type="radio" name="avatar" value="ğŸ‘¨â€ğŸ’¼">
              <span class="avatar-emoji">ğŸ‘¨â€ğŸ’¼</span>
              <span class="avatar-label">Businessman</span>
            </label>
            <label class="avatar-option">
              <input type="radio" name="avatar" value="ğŸ‘©â€ğŸ”¬">
              <span class="avatar-emoji">ğŸ‘©â€ğŸ”¬</span>
              <span class="avatar-label">Scientist</span>
            </label>
            <label class="avatar-option">
              <input type="radio" name="avatar" value="ğŸ§‘â€ğŸ³">
              <span class="avatar-emoji">ğŸ§‘â€ğŸ³</span>
              <span class="avatar-label">Chef</span>
            </label>
            <label class="avatar-option">
              <input type="radio" name="avatar" value="ğŸ‘©â€âš•ï¸">
              <span class="avatar-emoji">ğŸ‘©â€âš•ï¸</span>
              <span class="avatar-label">Doctor</span>
            </label>
          </div>
        </div>
        
        <button type="submit" class="btn-primary">Join Game</button>
        <div id="login-error" class="error-message"></div>
      </form>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- GAME SCREEN -->
  <!-- ============================================ -->
  <div id="game-screen" class="hidden">
    
    <!-- Top HUD -->
    <div class="game-hud">
      <div class="hud-left">
        <div class="player-info">
          <span id="player-avatar">ğŸ‘®</span>
          <span id="player-name-display">Player</span>
        </div>
        <div id="role-display" class="role-badge hidden">ğŸ’€ KILLER</div>
      </div>
      
      <div class="hud-center">
        <div class="timer">
          <span class="timer-icon">â°</span>
          <span id="timer-display">10:00</span>
        </div>
      </div>
      
      <div class="hud-right">
        <div class="players-alive">
          <span>ğŸ‘¥</span>
          <span id="alive-count">0</span>
        </div>
      </div>
    </div>

    <!-- Game Canvas / House -->
    <div id="game-container">
      <div id="house-grid">
        <!-- Rooms will be generated here -->
        <!-- Players will move around here -->
      </div>
    </div>

    <!-- Action Buttons (Top of controls) -->
    <div class="action-buttons">
      <button id="kill-btn" class="action-btn hidden" title="Kill">
        <span class="btn-emoji">â˜ ï¸</span>
        <span class="btn-label">Kill</span>
      </button>
      <button id="accuse-btn" class="action-btn" title="Accuse">
        <span class="btn-emoji">âš¡</span>
        <span class="btn-label">Accuse</span>
      </button>
      <button id="interact-btn" class="action-btn" title="Interact">
        <span class="btn-emoji">âœ‹</span>
        <span class="btn-label">Use</span>
      </button>
      <button id="chat-btn" class="action-btn" title="Chat">
        <span class="btn-emoji">ğŸ’¬</span>
        <span class="btn-label">Chat</span>
      </button>
    </div>

    <!-- Mobile Controls -->
    <div class="mobile-controls">
      <div class="dpad">
        <button class="dpad-btn dpad-up" data-direction="up">â–²</button>
        <button class="dpad-btn dpad-left" data-direction="left">â—€</button>
        <button class="dpad-btn dpad-center">ğŸ®</button>
        <button class="dpad-btn dpad-right" data-direction="right">â–¶</button>
        <button class="dpad-btn dpad-down" data-direction="down">â–¼</button>
      </div>
    </div>

  </div>

  <!-- ============================================ -->
  <!-- MODALS -->
  <!-- ============================================ -->
  
  <!-- Accuse Modal -->
  <div id="accuse-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h3>âš¡ Accuse a Player</h3>
        <button class="close-btn modal-close">âœ•</button>
      </div>
      <div class="modal-body">
        <p class="warning-text">âš ï¸ WARNING: If you're wrong, you die!</p>
        <div id="player-list" class="player-list">
          <!-- Players will be listed here -->
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-secondary modal-close">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Chat Modal -->
  <div id="chat-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h3>ğŸ’¬ Send Message</h3>
        <button class="close-btn modal-close">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="emoji-picker">
          <button class="emoji-btn" data-emoji="ğŸ˜‚">ğŸ˜‚</button>
          <button class="emoji-btn" data-emoji="ğŸ˜±">ğŸ˜±</button>
          <button class="emoji-btn" data-emoji="ğŸ˜¡">ğŸ˜¡</button>
          <button class="emoji-btn" data-emoji="ğŸ¤”">ğŸ¤”</button>
          <button class="emoji-btn" data-emoji="ğŸ˜">ğŸ˜</button>
          <button class="emoji-btn" data-emoji="ğŸ˜¢">ğŸ˜¢</button>
          <button class="emoji-btn" data-emoji="ğŸ‘">ğŸ‘</button>
          <button class="emoji-btn" data-emoji="ğŸ‘">ğŸ‘</button>
        </div>
        <input type="text" id="chat-input" placeholder="Type message (optional)" class="modal-input">
      </div>
      <div class="modal-footer">
        <button class="btn-secondary modal-close">Cancel</button>
        <button class="btn-primary" id="send-chat-btn">Send</button>
      </div>
    </div>
  </div>

  <!-- Game Over Modal -->
  <div id="gameover-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="gameover-title">ğŸ® Game Over</h3>
      </div>
      <div class="modal-body">
        <div id="gameover-message" class="gameover-message"></div>
        <div id="final-stats" class="final-stats"></div>
      </div>
      <div class="modal-footer">
        <button class="btn-primary" id="play-again-btn">Play Again</button>
      </div>
    </div>
  </div>

  <!-- Role Reveal Modal -->
  <div id="role-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>ğŸ­ Your Role</h3>
      </div>
      <div class="modal-body">
        <div id="role-reveal" class="role-reveal"></div>
      </div>
      <div class="modal-footer">
        <button class="btn-primary" id="start-game-btn">Start Game</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
